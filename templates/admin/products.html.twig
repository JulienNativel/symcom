{% extends 'base.html.twig' %}

{% block title %}Gestion des produits{% endblock %}

{% block body %}

    {# {{dump(colonnes)}}
    {{dump(products)}} #}

    <div class="container my-5">
        <h2 class="text-center text-white bg-dark title mx-auto">Tous les articles en base</h2>
        <div class="row justify-content-center">
            <a href="{{ path('app_admin_products_create') }}" class="btn btn-primary col-2 my-3">Ajouter un produit</a>
        </div>
        <table class="table table-striped col-md-6 table-responsive table-bordered">
            <tr class="text-center">
                {% for row in colonnes %}
                    <th>{{ row|upper }}</th>
                {% endfor %}
                <th>CATEGORY</th>
                <th></th>
            </tr>

            {% for p in products %}
                <tr class="text-center">
                    <td class="align-middle">{{ p.id }}</td>
                    <td class="align-middle">{{ p.title }}</td>
                    <td class="align-middle">{{ p.content }}</td>
                    <td class="align-middle">{{ p.price }}</td>
                    <td class="align-middle"><img class="img-fluid" src="{{ p.picture }}"></td>
                    <td class="align-middle">{{ p.category.slug }}</td>
                    <td class="align-middle">
                        <a href="{{path('app_admin_products_edit', {'id': p.id})}}" class="btn btn-small btn-warning my-2"><i class="fa-solid fa-pen-to-square"></i></a>
                        <a href="{{path('app_admin_products', {'id': p.id})}}" class="btn btn-small btn-danger my-2"><i class="fa-solid fa-trash"></i></a>
                    </td>
                </tr>
            {% endfor %}
        </table>
    </div>

{% endblock %}

